<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Os9 on Guangchuang Yu</title>
    <link>http://guangchuangyu.github.io/tags/os9/</link>
    <description>Recent content in Os9 on Guangchuang Yu</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 14 Jun 2006 04:31:00 +0800</lastBuildDate>
    <atom:link href="http://guangchuangyu.github.io/tags/os9/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>安装os9和netbsd双系统</title>
      <link>http://guangchuangyu.github.io/2006/06/%E5%AE%89%E8%A3%85os9%E5%92%8Cnetbsd%E5%8F%8C%E7%B3%BB%E7%BB%9F/</link>
      <pubDate>Wed, 14 Jun 2006 04:31:00 +0800</pubDate>
      
      <guid>http://guangchuangyu.github.io/2006/06/%E5%AE%89%E8%A3%85os9%E5%92%8Cnetbsd%E5%8F%8C%E7%B3%BB%E7%BB%9F/</guid>
      <description>

&lt;h2 id=&#34;1-分区:7c364ac533cc06c9bf86bf33eb786a17&#34;&gt;1 分区&lt;/h2&gt;

&lt;p&gt;用MacOS X 10.2 的光盘启动，运行Disk Utility，选择“Install Mac OS
9 Disk
Drivers”不然分区将不能在OS9中使用，我一共分了5个分区，12G,10G,512M,20G,13.4G。其中12Ｇ装OS9系统，10Ｇ装netbsd系统，512Ｍ为swap分区，20Ｇ为home
分区，最后一个为fat32格式，为两个系统所共享。&lt;/p&gt;

&lt;h2 id=&#34;2-安装os9:7c364ac533cc06c9bf86bf33eb786a17&#34;&gt;2 安装os9&lt;/h2&gt;

&lt;p&gt;开机放入os9安装光盘，按住&lt;code&gt;Ｃ&lt;/code&gt;键，由光盘启动进入os9，在光盘根目录下点安装系统。指定第一个分区，选择安装的软件，十来分钟，便装完了。重新启动，将netbsd的启动程序&lt;code&gt;ofwboot.xcf&lt;/code&gt;放在os9的根目录下。&lt;/p&gt;

&lt;h2 id=&#34;3-安装netbsd:7c364ac533cc06c9bf86bf33eb786a17&#34;&gt;3 安装netbsd&lt;/h2&gt;

&lt;p&gt;开机按住&lt;code&gt;command+option+o+f&lt;/code&gt;进入open firmware。&lt;code&gt;open
firmware&lt;/code&gt;启动命令的语法是 &lt;code&gt;boot boot-device [boot-file] [-as]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;加-a会问你下个载入的文件，比如引导程序问你内核在那或内核会问你根分区在那。键入命令&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;boot
cd:,\\ofwboot.xcf netbsd.macppc
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;引导netbsd安装光盘， 进入sysinst主菜单。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.***********************************************.
* NetBSD-3.0 Install System                     *
*                                               *
*&amp;gt;a: Install NetBSD to hard disk                *
* b: Upgrade NetBSD on a hard disk              *
* c: Re-install sets or install additional sets *
* d: Reboot the computer                        *
* e: Utility menu                               *
* x: Exit Install System                        *
.***********************************************.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;选择Utility menu运行shell，运行&lt;code&gt;pdisk
/dev/wd0c&lt;/code&gt;修改分区，将第二，三，四个分区的partition 
type改为&lt;code&gt;Apple_UNIX_SVR2&lt;/code&gt;，并分别给标签a,b,g。保存退出。创建文件系统。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#newfs ffs /dev/wd0a 
#newfs ffs /dev/wd0g
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;创建fstab&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#mount /dev/wd0a /mnt 
#mkdir /mnt/etc 
#cat &amp;gt; /mnt/etc/fstab 

/dev/wd0a    /    ffs  rw 1 1 
/dev/wd0b none swap sw 0 0 
/dev/wd0g  /home ffs rw 1 2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;按&lt;code&gt;Control+D&lt;/code&gt;结束。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#mkdir /home 
#cd / 
#umount /mnt 
#exit
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;回到主菜单,选择重新安装。选择安装组件以及安装介质。安装程序将软件包解压到&lt;code&gt;/dev/wd0a&lt;/code&gt;后，回到主菜单，选择Utility
menu并运行shell，&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#mount /dev/wd0a 
#cd /mnt/dev 
#sh MAKEDEV all
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;      
创建设备节点 &lt;code&gt;#cd /mnt/dev&lt;/code&gt; 修改rc.conf 确定&lt;code&gt;rc_configured=YES&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#cd /
#umount /mnt 
#exit 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重新启动，按住&lt;code&gt;command+option+o+f&lt;/code&gt;进入open firmware，
键入&lt;code&gt;boot hd:9,\\ofwboot hd:10,/netbsd&lt;/code&gt; &lt;code&gt;[g]&lt;/code&gt;成功实现引导。。&lt;code&gt;[/g]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;[g]0/7/&lt;/code&gt;默认是进入os9，因为我用netbsd较多，所以得再修改一下启动，进入open
firmware`:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;0&amp;gt; setenv boot-device hd:9,\\ofwboot.xcf hd:10,/netbsd
0&amp;gt; reset-all
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;设置后机子重启，将自动进入netbsd,
想要进入os9只需在进入open firmware后键入&lt;code&gt;boot hd:9,\\\\:tbxi[/g]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;拷一些字体到&lt;code&gt;\~/BackUP/fonts&lt;/code&gt;下，&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$cd \~/BackUP/fonts 
$mkfontscale &amp;gt; fonts.scale 
$cp fonts.scale fonts.dir 
$cd \~ 
$ln -s ~/Backup/fonts .fonts
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;修改&lt;code&gt;/etc/X11/XF86Config&lt;/code&gt;
添加&lt;code&gt;&amp;lt;dir&amp;gt;/home/ygc/BackUP/fonts&amp;lt;/dir&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;##create index of font files... 
$fc-cache -v
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装fcitx&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#cd /usr/pkgsrc/inputmethod/fcitx 
#make install
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装qvwm&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#cd /usr/pkgsrc/wm/qvwm 
#make install
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;在&lt;code&gt;\~/.xinitrc&lt;/code&gt;中加入&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;export LC\_CTYPE=&amp;quot;zh\_CN.eucCN&amp;quot; 
export XMODIFIERS=&amp;quot;@im=fcitx&amp;quot; 
fcitx &amp;amp; 
exec qvwm
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;OK startx&amp;hellip;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://guangchuangyu.github.io/blog_images/2006/06/qvwm.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;qvwm是一个模仿win95界面的一个窗口管理器,很土,这个是我修改过的&lt;a href=&#34;http://guangchuangyu.github.io/2006/06/qvwm%E7%AA%97%E5%8F%A3%E7%AE%A1%E7%90%86%E5%99%A8%E7%9A%84windows2000%E4%B8%BB%E9%A2%98/&#34;&gt;仿2k的界面&lt;/a&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
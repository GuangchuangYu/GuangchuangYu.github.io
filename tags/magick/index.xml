<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>magick on Guangchuang Yu</title>
    <link>https://guangchuangyu.github.io/tags/magick/</link>
    <description>Recent content in magick on Guangchuang Yu</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 05 Jun 2018 08:53:00 +0800</lastBuildDate><atom:link href="https://guangchuangyu.github.io/tags/magick/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>github被微软收购</title>
      <link>https://guangchuangyu.github.io/2018/06/github-ms-meme/</link>
      <pubDate>Tue, 05 Jun 2018 08:53:00 +0800</pubDate>
      
      <guid>https://guangchuangyu.github.io/2018/06/github-ms-meme/</guid>
      <description>&lt;p&gt;微软以75亿美元收购全球最大的单身交友网站GitHub，应景&lt;a href=&#34;https://mp.weixin.qq.com/s/koM3GU1zr8dE0S0fkdncxA&#34;&gt;分享一张图片&lt;/a&gt;，其实这图大家并不陌生，在《&lt;a href=&#34;http://mp.weixin.qq.com/s/Xhi_ZkrEzUVdnCu7ECBS4w&#34;&gt;听说你还不会画热图&lt;/a&gt;》一文中，大家早已见过。&lt;/p&gt;
&lt;p&gt;这图实在太好玩，被套在各种场景上，今天就要教大家怎么用R，纯代码生成这样的图，简直是吐槽神器。这类图可以归入meme，画meme，当然少不了我写的meme包，这包收录在CRAN中，点击下面链接了解一下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://mp.weixin.qq.com/s/jDXjkrkq_YVhW-Z5Vx2-Fg&#34;&gt;用R画meme ;)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/4b8enFCd_lLt278Ddxp3rg&#34;&gt;使用外部字体画meme&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://mp.weixin.qq.com/s/BPY4dPFrrNrDKccMvax07w&#34;&gt;扪心自问，meme几何？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>有魔性的图来一发</title>
      <link>https://guangchuangyu.github.io/2017/07/magick-add-gif/</link>
      <pubDate>Fri, 28 Jul 2017 07:09:22 +0800</pubDate>
      
      <guid>https://guangchuangyu.github.io/2017/07/magick-add-gif/</guid>
      <description>&lt;p&gt;不知不觉中我已经介绍了很多R包，有学术上的&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247483886&amp;amp;idx=1&amp;amp;sn=cb76891dff5787025f6b99cdcc723d86&amp;amp;chksm=ec43b0a9db3439bfcec1c9ac3c0d00e6190cf4d3d02d9d3dc767007e0ff68b4fbd8064bb0f77#rd&#34;&gt;ChIPseeker&lt;/a&gt;、&lt;a href=&#34;http://mp.weixin.qq.com/s/Uhx3l3lKQS88OJ4SHntkNg&#34;&gt;treeio&lt;/a&gt;、&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247483962&amp;amp;idx=1&amp;amp;sn=7240c1fe0e09a142ef95ac594922b890&amp;amp;chksm=ec43b37ddb343a6bc7c2633597aba751b7f257846d26bc0060b7782ecd3ae20fece8085f0295&#34;&gt;ggtree&lt;/a&gt;、
&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484374&amp;amp;idx=1&amp;amp;sn=f946f3539a752b09a94b5e160e87368e&amp;amp;chksm=ec43b291db343b871a1f10ca31d6ef94e9da4485043ed374c9739689d02072be92a34ca4e863#rd&#34;&gt;clusterProfiler&lt;/a&gt;、
&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484054&amp;amp;idx=1&amp;amp;sn=c9c45157bfb60d5143e5d467ebfe5a86&amp;amp;chksm=ec43b3d1db343ac74cbc7a4f0bbe8b9a09346c2becbce33e5f8c070b333a2195adb8741e9e82&#34;&gt;GOSemSim&lt;/a&gt;、&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484018&amp;amp;idx=1&amp;amp;sn=53281ebf18b52518bc14dc83a0709bf9&amp;amp;chksm=ec43b335db343a23465208b47327088d054f8eed64f7d7137b09d01ca414c08fb17804fd19ce&#34;&gt;seqcombo&lt;/a&gt;和&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484054&amp;amp;idx=2&amp;amp;sn=9a42f1094349a0bd09a5e0b7c44595e0&amp;amp;chksm=ec43b3d1db343ac7e11d92eda3eb1837aab46f79bb109e6cdbba466e4693d041a87fa698ef1b&#34;&gt;MSnbase&lt;/a&gt;等，当然免不了有&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247483948&amp;amp;idx=1&amp;amp;sn=e57e385ada66c991a5c3cf6eb48f7169&amp;amp;chksm=ec43b36bdb343a7dbd39574bb6b02cf8057a4d068399630e77e0580113a2807bb8c34edafbf0&#34;&gt;吐槽&lt;/a&gt;还有&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484640&amp;amp;idx=1&amp;amp;sn=478f77b8f03eb9793bafc8f18e126097&amp;amp;chksm=ec43b5a7db343cb11fc9e0c232e0de0db7ec444abf5e8e3bd703f83a3cb31695f10359b47b8f#rd&#34;&gt;抄袭&lt;/a&gt;。&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484641&amp;amp;idx=1&amp;amp;sn=3ff11eef4cf48ebc6c2d1b06be950834&amp;amp;chksm=ec43b5a6db343cb04355c149b52bbd9bcb11b7983e48ddb5d40b85081003937d5e582b0f69b5&#34;&gt;有学R的&lt;/a&gt;和&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484173&amp;amp;idx=1&amp;amp;sn=ad1817e4acd1362428b3beaa1cd4fede&amp;amp;chksm=ec43b24adb343b5cad6c7ff528182e9c95f0f292044399e127d7495c77bbe2e1cbccb095179c&#34;&gt;更新R包&lt;/a&gt;，也有&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484109&amp;amp;idx=1&amp;amp;sn=9988b955cb4a995dfcfbe31f31d929da&amp;amp;chksm=ec43b38adb343a9cc2ce4ab9fabf3e6ff1db82f6627c91a1035ef94279c6d51e72ffea247f1a&#34;&gt;桌面小工具&lt;/a&gt;，还有画图的&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247483941&amp;amp;idx=1&amp;amp;sn=bb352b5d74797715a9759f64765e49f6&amp;amp;chksm=ec43b362db343a7433d23dd081da263a062e944664ced85d82643eb6e963bccc5d35b43617a8#rd&#34;&gt;ggplot2&lt;/a&gt;、&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247483955&amp;amp;idx=1&amp;amp;sn=0b753422e337e8dd63056d62af9b9e80&amp;amp;chksm=ec43b374db343a62b102a22bc1ebc288c5c4c0ac27db4228bd5214b54b59fa20a948348cebdd&#34;&gt;怎么配色&lt;/a&gt;、&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484079&amp;amp;idx=1&amp;amp;sn=2f37b54ad09b966ccb9e8bf93ebd6643&amp;amp;chksm=ec43b3e8db343afed5d55c25aaaba233f3339686e9eba0e65f004a5ca58ac13bba7ba9b5bacc#rd&#34;&gt;嵌入图片&lt;/a&gt;(比如pokemon)， 以及&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484416&amp;amp;idx=1&amp;amp;sn=c089403a2b8ab03d241b6d99ef138f50&amp;amp;chksm=ec43b547db343c51bdae5f76b399072629720cf646ddc1c0b758c7c76d57e8b1e35b47221cf6&#34;&gt;emoji作图&lt;/a&gt;，也有好玩的&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247484504&amp;amp;idx=1&amp;amp;sn=9ce4f3f59d41a27ec3f14c6e77f29a75&amp;amp;chksm=ec43b51fdb343c097ebdaf29ca1eef27c4ea2405555ea2a685f2815c212e93afa337886e1a23&#34;&gt;贴纸&lt;/a&gt;和&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;amp;mid=2247483868&amp;amp;idx=1&amp;amp;sn=412e13481ad636032125a035bf2216b0&amp;amp;chksm=ec43b09bdb34398d060b1898d286b84975e578c1230da0ce2782d56278a6ce0ee95c0965ac5d&#34;&gt;装逼利器&lt;/a&gt;。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;今天要介绍另外一个R包，magick，是R里面玩图片的利器，今天要讲的是在静态图片上加动态图片，这样我们平时画一些学术的图，就可以加点搞笑的动态元素上去，有利于在博客和公众号上装逼。&lt;/p&gt;
&lt;p&gt;无非是给我一张静态图当背景，再来一张动态图加在上面，为了让代码可以重用，首先打包个小函数：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;add_gif &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;function&lt;/span&gt;(bg_file, gif_file, out_file, offset, bg_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;500&amp;#34;&lt;/span&gt;, gif_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;150&amp;#34;&lt;/span&gt;) {
	&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(magick)
	p &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;image_read&lt;/span&gt;(bg_file)
	g &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;image_read&lt;/span&gt;(gif_file)
	g &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;image_scale&lt;/span&gt;(g, gif_size)

	background &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;image_background&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;image_scale&lt;/span&gt;(p, bg_size), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;, flatten &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)

	frames &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lapply&lt;/span&gt;(g, &lt;span style=&#34;color:#a6e22e&#34;&gt;function&lt;/span&gt;(frame) {
  		&lt;span style=&#34;color:#a6e22e&#34;&gt;image_composite&lt;/span&gt;(background, frame, offset &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; offset)
	})

	animation &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;image_animate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;image_join&lt;/span&gt;(frames))
	&lt;span style=&#34;color:#a6e22e&#34;&gt;image_write&lt;/span&gt;(animation, out_file)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后就可以来玩了，首先用上次讲到的dotplot做为底图，再从网上找一个动图，调用函数，bingo:&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>
